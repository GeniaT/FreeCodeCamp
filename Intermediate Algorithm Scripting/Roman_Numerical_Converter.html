<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Roman_Numerical_Converter</title>
  </head>
  <body>
    <script>
//Convert any number from 1 to 4999 in roman numbers
var units        = [1,2,3,4,5,6,7,8,9];
var tens         = [1,2,3,4,5,6,7,8,9];
var hundreds     = [1,2,3,4,5,6,7,8,9];
var thousands    = [1,2,3];

var unitsRom     = ["I","II","III","IV","V","VI","VII","VIII","IX"];
var tensRom      = ["X","XX","XXX","XL","L","LX","LXX","LXXX","XC"];
var hundredsRom  = ["C","CC","CCC","CD","D","DC","DCC","DCCC","CM"];
var thousandsRom = ["M","MM","MMM"];
var arrayBeforeConv = [];

    function convertToRoman(num) {

          var numberSplited = (String(num)).split("");
          console.log(numberSplited);
          console.log("La longueur de la variable fait " + numberSplited.length);
          var firstPick = Number(numberSplited[0]);
          console.log(firstPick);
          var secondPick = Number(numberSplited[1]);
          var thirdPick = Number(numberSplited[2]);
          var fourthPick = Number(numberSplited[3]);


          if (numberSplited.length === 4) {
            console.log("je suis bien sur un nombre à 4 chiffres");
            toThousands(firstPick);
            toHundreds(secondPick);
            toTens(thirdPick);
            toUnits(fourthPick);
          } else if (numberSplited.length === 3) {
            toHundreds(firstPick);
            toTens(secondPick);
            toUnits(thirdPick);
          } else if (numberSplited.length === 2) {
            toTens(firstPick);
            toUnits(secondPick);
          } else {
            toUnits(firstPick);
          }

      converted = arrayBeforeConv.join("");
      console.log(converted);
    }

      function toThousands(num) {
        var index = thousands.indexOf(num);
        var thousandsConverted = thousandsRom[index];
        if (thousandsConverted) {
          arrayBeforeConv.push(thousandsConverted);
        }
      }

      function toHundreds(num) {
        var index = hundreds.indexOf(num);
        var hundredsConverted = hundredsRom[index];
        if (hundredsConverted) {
          arrayBeforeConv.push(hundredsConverted);
        }
      }

      function toTens(num) {
        var index = tens.indexOf(num);
        var tensConverted = tensRom[index];
        if (tensConverted) {
        arrayBeforeConv.push(tensConverted);
        }
      }

      function toUnits(num) {
        var index = units.indexOf(num);
        var unitsConverted = unitsRom[index];
        if (unitsConverted) {
        arrayBeforeConv.push(unitsConverted);
        }
      }

//Soucis à gérer: lors d'une succession d'opérations, il faut vider d'une certaine façon : arrayBeforeConv = []; mais je ne sais pas encore comment
    convertToRoman(3765);
    //var arrayBeforeConv = [];





    </script>
  </body>
</html>
