<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>drop it</title>
  </head>
  <body>
<script>
/*Flatten a nested array. You must account for varying levels of nesting.*/


function steamrollArray (arr) {
  var newArray = []; //array where we store each element of nested array

  //recursive fct expression (not executed yet here)
  var flatten = function recurse(arg) {
    if (!Array.isArray(arg)) { //if the element found isnt an array, we push it
      newArray.push(arg);
    } else { //if array, we rerun the fct to go deeper taking the 1st arg of it and check if its an array or not
      for (var a in arg) { //for in used usually to loop through objects
        recurse(arg[a]); //if recurse(arg) was ran, we wouldn't go deeper in the array. At this step, the recurse fct remember with what arg it was lastly called.
      }
    }
  };

  arr.forEach(flatten); //allows us to run through each element of arr
  console.log(newArray);
}

// test here
steamrollArray([1, [2], [3, [[4]]]]);
steamrollArray([1, {}, [3, [[4]]]]);
steamrollArray([[[[[[[1]]]]]], 2, [3, [[4]]]]);

</script>
  </body>
</html>
